
@model IEnumerable<RentaCar.Models.Car>
@{
    ViewBag.Title = "ReadOnlyList";
}

<h1 class="mt-5">Cars ReadOnly</h1>

<table id="cars" class="table  table-striped mt-5">
    <tr class="table-dark fs-5">
        <th>
            @Html.DisplayNameFor(model => model.Manufacturer)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Model)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.LicensePlate)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Year)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Available)
        </th>
        <th></th>
    </tr>
    <link href="https://cdn.datatables.net/1.10.15/css/dataTables.bootstrap.min.css" rel="stylesheet" />
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />

</table>

@section scripts{

    <script src="https://cdn.datatables.net/1.10.15/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.15/js/dataTables.bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.21.0/moment.min.js"></script>

    <script>
    $document.ready(function () {

        var table = $("#cars").DataTable({

            "ajax": {
                "url":"/cars/GetData",
                "type": "GET",
                "datatype": "json"
            },
            "columns": [

                { "data":"Manufacturer" },
                { "data":"Model" },
                { "data":"LicensePlate" },
                { "data":"Year" },
                { "data": "Available" },
                {
                    "data": "CarId", "render": function (data) {

                        var myUrl = '@Url.Action("Details","Cars")/' + data;
                        return '<a href=\"' + myUrl + '\"class=\"btn btn-default btn-sm\">Details</a>';
                    }
                }
            ],

        });



    });


    </script>
}
